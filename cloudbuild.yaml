options:
  machineType: 'N1_HIGHCPU_32'
timeout: 1200s
steps:
  - name: 'us.gcr.io/current-production/core-builder:0.0.210'
    entrypoint: '/environment.sh'
    secretEnv: ['GITRSA', 'NPMRC', 'KNOWN_HOSTS','DOCKER_KEY']
    volumes:
      - name: 'ssh'
        path: /root/.ssh
      - name: 'root'
        path: /root
  - name: 'gcr.io/cloud-builders/git'
    args:
      - clone
      - git@github.com:finco-services/bigquery-emulator.git
      - bigquery-emulator
    volumes:
      - name: 'ssh'
        path: /root/.ssh
      - name: 'root'
        path: /root
  - name: 'us.gcr.io/current-production/core-builder:0.0.210'
    entrypoint: 'mvn'
    args: ['--batch-mode', '-DskipTests=true','-Darguments="-Dmaven.javadoc.skip=true"', '-Dmaven.javadoc.skip=true', '-Darguments=-DskipTests', '-DautoVersionSubmodules=true','release:prepare', 'release:perform']
    dir: 'bigquery-emulator'
    volumes:
      - name: 'ssh'
        path: /root/.ssh
      - name: 'root'
        path: /root
secrets:
  - kmsKeyName: projects/current-production/locations/global/keyRings/build/cryptoKeys/npm
    secretEnv:
      NPMRC: CiQAyY23fXiLxN3ifGP55LV6USUrJssriDD+vU1g+lj+iMmE7qUSbwA65roG/YxzBzRKh+5P031TklMgZ4rmkauFh/0pvPZ9Js+1r8xD1wBv8eEI2TWH7kxvDKsnT6Y/5Zy1oGiTlaHkuf3MJd9/tWyZrWZP8K0HP9o+pDOGazRUCyKgSZxMIQxadgV0gA5KNG8KHSjPnQ==
  - kmsKeyName: projects/current-production/locations/global/keyRings/build/cryptoKeys/github
    secretEnv:
      GITRSA: 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
  - kmsKeyName: projects/current-production/locations/global/keyRings/build/cryptoKeys/known_hosts
    secretEnv:
      KNOWN_HOSTS: CiUA5btHwIluW7dGY+O16oC3MucuiX0h9UpHaJvlYIph11FBdxilEt4EANWKBVg78jOOf2It7/oJ3dQVtcuKxMqLuP3OtacGoOenT2zqM+VJ9So8YerB/oI8ztULVOzmKIU8JuLrDVEimgYmgpz9O0Mz0MPNnMsrC27RTGG+ZphrSZvXdLjw0QVkmPZyg3C84wD8oFm/r0/jyxHvEKBkVGksGfJTg5x4Kjcg00Ov3+c+79mLBMXY8e086uBSxM3aQiqPldm+P2vngIrafpaTBBUg/Js6HDNcldzogHX6F8xw9zOa5gaEuyFrY9ueTnt1SfZmccxHvejHBzKUkxLC5o1WZqOti45d3wzOp9Mr+Gtx8m/zORL1wgPMexO4L2IiLEI+wPN0NPEh4XPo7C7Yr9pKsVqsIhCpTuIRORwilo5nQ1c01OgbYe+b59S10MOHzyriiwz9W52gu7ZEMNyEHLZRg1+rfZmDrzgOVPq/yebwGAVyk7IyU/VSncdUm22mKwb6Ya6a5ehOLbg52GHpmQp65ISjTB2jIzlDkajoCYqN2ZaWX0xUoGRKKGOi4jl0rEVZMb0ErGe9NCK2g9kSiUoj4KT4Rs8twRSp4QV1tUh0Oxuww0ACIJ78ekAM0bDAHP1qpzFBgOfNTMPpY094GtR8Uhtw5FRCZBi69DhgqzjFcOqLzvQ/jSfb8zka39zuaiEhQACUxtp4FV3LV1QgNc7YlFOu+NP+KX1Al+NZKkvLRtlk3ZZtzsDixmnMJYb4haidLixy1eQdYrsN6cbCkt/wreJS8Z3ZYb0a/iK2SyLlZPQLlAOZLQQd5iovqJpzoyOXuAgX5OSrfyZ2ZFYAhjOzP+vLIiyG
  - kmsKeyName: projects/current-production/locations/global/keyRings/build/cryptoKeys/docker
    secretEnv:
      DOCKER_KEY: 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
